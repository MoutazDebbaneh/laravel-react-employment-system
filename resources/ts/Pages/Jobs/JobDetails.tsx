import PageLocalizer from "@/Components/PageLocalizer";
import DefaultLayout from "@/Layouts/DefaultLayout";
import FluidContainer from "@/Utils/FluidContainer";
import { Locale, Role } from "@/enums/app_enums";
import { Job } from "@/types";
import { faBriefcase, faClock } from "@fortawesome/free-solid-svg-icons";
import { FontAwesomeIcon } from "@fortawesome/react-fontawesome";
import { Head, Link } from "@inertiajs/react";
import JobDetailsGridRow from "./Partials/JobDetailsGridRow";
import { countries } from "countries-list";
import Swal from "sweetalert2";

export default function JobDetails({
    locale,
    translations,
    auth,
    activeLink,
    job,
    similars,
    status,
    alreadyApplied,
}: {
    locale: Locale;
    translations: Translations;
    auth: Auth;
    activeLink: string;
    job: Job;
    similars: Job[] | undefined;
    status: string | undefined;
    alreadyApplied: boolean;
}) {
    const formatDate = (dateString: string) => {
        let date = new Date(dateString);
        const day: string = date.getDate().toString().padStart(2, "0");
        const month: string = (date.getMonth() + 1).toString().padStart(2, "0");
        const year: string = date.getFullYear().toString();

        // Format the date as dd-mm-yyyy
        const formattedDate: string = `${day}/${month}/${year}`;
        return formattedDate;
    };

    const formatSalary = (
        minSalary: number | null | undefined,
        maxSalary: number | null | undefined
    ) => {
        if (!minSalary && !maxSalary) return "Undetermined";
        else if (minSalary && maxSalary)
            return `${minSalary.toLocaleString()} ~ ${maxSalary.toLocaleString()} SYP`;
        else if (minSalary) return minSalary.toLocaleString() + " SYP";
        else return maxSalary!.toLocaleString() + " SYP";
    };

    const formatJobTypes = () => {
        const types = job.job_types!.map((t) =>
            locale == Locale.English ? t.name_en : t.name_ar
        );
        return types.join(", ");
    };

    const formatExperience = () => {
        const experience = job.experience;
        if (!experience) return "Undetermined";
        if (experience == 1) return "1 Year";
        return experience + " Years";
    };

    const arabic = /[\u0600-\u06FF]/;
    const requiremenetsHasArabic =
        job.requirements && arabic.test(job.requirements!);
    const descriptionHasArabic =
        job.description && arabic.test(job.description!);
    const benefitsHasArabic = job.benefits && arabic.test(job.benefits!);

    const corrections = {
        "&nbsp;": " ",
        "&lt;": "<",
        "&gt;": ">",
        "&amp;": "&",
        "&euro;": "€",
        "&pound;": "£",
        "&quot;": '"',
    };

    for (const key in corrections) {
        if (Object.prototype.hasOwnProperty.call(corrections, key)) {
            const value = corrections[key as keyof typeof corrections];
            if (job.requirements)
                job.requirements = job.requirements.replaceAll(key, value);
            if (job.description)
                job.description = job.description.replaceAll(key, value);
            if (job.benefits)
                job.benefits = job.benefits.replaceAll(key, value);
        }
    }

    if (status == "applied") {
        const Toast = Swal.mixin({
            toast: true,
            position: "bottom-right",
            iconColor: "white",
            background: "#a5dc86",
            color: "white",
            showConfirmButton: false,
            timer: 1500,
            timerProgressBar: true,
        });
        Toast.fire({
            icon: "success",
            title: "Your application was sent successfully",
        });
    }

    return (
        <DefaultLayout
            locale={locale}
            translations={translations.navbar as Translations}
            auth={auth}
            activeLink={activeLink}
            className="border-b border-gray-200"
        >
            <PageLocalizer locale={locale} />
            <Head title={translations.title.toString()} />
            <FluidContainer className="max-w-full lg:px-32 px-2">
                <div className="job-header mt-10">
                    <div className="flex justify-between">
                        <div className="title-tags">
                            <h2 className="text-dark-blue text-2xl font-bold capitalize">
                                {job.title!.split(" --- ")[0]}
                            </h2>
                            <div className="job-info flex flex-row gap-3 mt-2">
                                <span className="text-[13px] text-muted">
                                    <FontAwesomeIcon
                                        icon={faBriefcase}
                                        className="me-1"
                                    />
                                    {locale == Locale.English
                                        ? job.job_category!.name_en
                                        : job.job_category!.name_ar}
                                </span>
                                <span className="text-[13px] text-muted">
                                    <FontAwesomeIcon
                                        icon={faClock}
                                        className="me-1"
                                    />
                                    {job.post_date
                                        ? formatDate(job.post_date)
                                        : formatDate(job.created_at!)}
                                </span>
                            </div>
                        </div>
                        {(!auth.user || auth.user.role == Role.User) && (
                            <a
                                href={
                                    job.source_type! == 2
                                        ? job.source_url!
                                        : job.source_type == 3
                                        ? new URL(job.source_url!).origin
                                        : route("jobs.apply", job.id!)
                                }
                                className={
                                    !alreadyApplied
                                        ? "bg-primary-blue px-7 rounded-md text-white hover:bg-dark-blue hover:-translate-y-0.5 transition-all flex items-center gap-1"
                                        : "bg-green-600 px-7 rounded-md text-white transition-all flex items-center gap-1 pointer-events-none"
                                }
                            >
                                <div className="apply-icon">
                                    <svg
                                        width="16"
                                        height="16"
                                        viewBox="0 0 16 16"
                                        fill="none"
                                        xmlns="http://www.w3.org/2000/svg"
                                    >
                                        <path
                                            d="M5.75001 8.00001L7.25001 9.50001L10.25 6.50001M4.87626 2.52276C5.41424 2.47982 5.92497 2.26829 6.33576 1.91826C6.79994 1.52246 7.38999 1.30505 8.00001 1.30505C8.61003 1.30505 9.20008 1.52246 9.66426 1.91826C10.0751 2.26829 10.5858 2.47982 11.1238 2.52276C11.7318 2.57114 12.3027 2.83463 12.7341 3.26595C13.1654 3.69728 13.4289 4.2682 13.4773 4.87626C13.5202 5.41424 13.7317 5.92497 14.0818 6.33576C14.4776 6.79994 14.695 7.38999 14.695 8.00001C14.695 8.61003 14.4776 9.20008 14.0818 9.66426C13.7317 10.0751 13.5202 10.5858 13.4773 11.1238C13.4289 11.7318 13.1654 12.3027 12.7341 12.7341C12.3027 13.1654 11.7318 13.4289 11.1238 13.4773C10.5858 13.5202 10.0751 13.7317 9.66426 14.0818C9.20008 14.4776 8.61003 14.695 8.00001 14.695C7.38999 14.695 6.79994 14.4776 6.33576 14.0818C5.92497 13.7317 5.41424 13.5202 4.87626 13.4773C4.2682 13.4289 3.69728 13.1654 3.26595 12.7341C2.83463 12.3027 2.57114 11.7318 2.52276 11.1238C2.47982 10.5858 2.26829 10.0751 1.91826 9.66426C1.52246 9.20008 1.30505 8.61003 1.30505 8.00001C1.30505 7.38999 1.52246 6.79994 1.91826 6.33576C2.26829 5.92497 2.47982 5.41424 2.52276 4.87626C2.57114 4.2682 2.83463 3.69728 3.26595 3.26595C3.69728 2.83463 4.2682 2.57114 4.87626 2.52276V2.52276Z"
                                            stroke="white"
                                            strokeWidth="1.58333"
                                            strokeLinecap="round"
                                            strokeLinejoin="round"
                                        />
                                    </svg>
                                </div>
                                <p className="apply-text">
                                    {!alreadyApplied ? "Apply Now" : "Applied"}
                                </p>
                            </a>
                        )}
                    </div>
                </div>
                <div className="job-body mt-14 flex flex-col md:flex-row gap-2 md:gap-6">
                    <div className="left-section w-full md:w-2/3">
                        <div className="main-info border border-gray-200 rounded-lg p-6">
                            <h4 className="text-dark-blue text-2xl font-bold capitalize border-b border-gray-200 pb-3">
                                Employment Information
                            </h4>
                            <div className="job-info-grid flex flex-col md:flex-row md:gap-6 mt-8">
                                <div className="left-col w-full text-[1.05rem]">
                                    <JobDetailsGridRow
                                        title="Category"
                                        content={
                                            locale == Locale.English
                                                ? job.job_category!.name_en
                                                : job.job_category!.name_ar
                                        }
                                    >
                                        <svg
                                            width="16"
                                            height="16"
                                            viewBox="0 0 16 16"
                                            fill="none"
                                            xmlns="http://www.w3.org/2000/svg"
                                        >
                                            <path
                                                d="M15 5.5H13.5V3C13.5024 2.88303 13.4636 2.76893 13.3905 2.67757C13.3174 2.58621 13.2146 2.52338 13.1 2.5L3.1 0.500003C3.02737 0.485691 2.95246 0.487686 2.88069 0.505844C2.80893 0.524002 2.74209 0.55787 2.685 0.605003C2.62633 0.65259 2.5792 0.712853 2.54716 0.781266C2.51512 0.84968 2.49899 0.924465 2.5 1V5.5H1C0.867392 5.5 0.740215 5.55268 0.646447 5.64645C0.552678 5.74022 0.5 5.86739 0.5 6V15C0.5 15.1326 0.552678 15.2598 0.646447 15.3536C0.740215 15.4473 0.867392 15.5 1 15.5H15C15.1326 15.5 15.2598 15.4473 15.3536 15.3536C15.4473 15.2598 15.5 15.1326 15.5 15V6C15.5 5.86739 15.4473 5.74022 15.3536 5.64645C15.2598 5.55268 15.1326 5.5 15 5.5ZM1.5 6.5H2.5V14.5H1.5V6.5ZM3.5 6V1.61L12.5 3.41V14.5H10V11.5C10 11.3674 9.94732 11.2402 9.85355 11.1464C9.75979 11.0527 9.63261 11 9.5 11H6.5C6.36739 11 6.24021 11.0527 6.14645 11.1464C6.05268 11.2402 6 11.3674 6 11.5V14.5H3.5V6ZM7 14.5V12H9V14.5H7ZM14.5 14.5H13.5V6.5H14.5V14.5Z"
                                                fill="#66789C"
                                            />
                                            <path
                                                d="M5.25 6.5H7.25C7.38261 6.5 7.50979 6.44732 7.60355 6.35355C7.69732 6.25979 7.75 6.13261 7.75 6V4C7.75 3.86739 7.69732 3.74021 7.60355 3.64645C7.50979 3.55268 7.38261 3.5 7.25 3.5H5.25C5.11739 3.5 4.99021 3.55268 4.89645 3.64645C4.80268 3.74021 4.75 3.86739 4.75 4V6C4.75 6.13261 4.80268 6.25979 4.89645 6.35355C4.99021 6.44732 5.11739 6.5 5.25 6.5ZM5.75 4.5H6.75V5.5H5.75V4.5Z"
                                                fill="#66789C"
                                            />
                                            <path
                                                d="M7.25 10C7.38261 10 7.50979 9.94732 7.60355 9.85355C7.69732 9.75979 7.75 9.63261 7.75 9.5V7.5C7.75 7.36739 7.69732 7.24021 7.60355 7.14645C7.50979 7.05268 7.38261 7 7.25 7H5.25C5.11739 7 4.99021 7.05268 4.89645 7.14645C4.80268 7.24021 4.75 7.36739 4.75 7.5V9.5C4.75 9.63261 4.80268 9.75979 4.89645 9.85355C4.99021 9.94732 5.11739 10 5.25 10H7.25ZM5.75 8H6.75V9H5.75V8Z"
                                                fill="#66789C"
                                            />
                                            <path
                                                d="M8.75 6.5H10.75C10.8826 6.5 11.0098 6.44732 11.1036 6.35355C11.1973 6.25979 11.25 6.13261 11.25 6V4C11.25 3.86739 11.1973 3.74021 11.1036 3.64645C11.0098 3.55268 10.8826 3.5 10.75 3.5H8.75C8.61739 3.5 8.49021 3.55268 8.39645 3.64645C8.30268 3.74021 8.25 3.86739 8.25 4V6C8.25 6.13261 8.30268 6.25979 8.39645 6.35355C8.49021 6.44732 8.61739 6.5 8.75 6.5ZM9.25 4.5H10.25V5.5H9.25V4.5Z"
                                                fill="#66789C"
                                            />
                                            <path
                                                d="M8.75 10H10.75C10.8826 10 11.0098 9.94732 11.1036 9.85355C11.1973 9.75979 11.25 9.63261 11.25 9.5V7.5C11.25 7.36739 11.1973 7.24021 11.1036 7.14645C11.0098 7.05268 10.8826 7 10.75 7H8.75C8.61739 7 8.49021 7.05268 8.39645 7.14645C8.30268 7.24021 8.25 7.36739 8.25 7.5V9.5C8.25 9.63261 8.30268 9.75979 8.39645 9.85355C8.49021 9.94732 8.61739 10 8.75 10ZM9.25 8H10.25V9H9.25V8Z"
                                                fill="#66789C"
                                            />
                                        </svg>
                                    </JobDetailsGridRow>
                                    <JobDetailsGridRow
                                        title="Salary"
                                        content={formatSalary(
                                            job.min_salary,
                                            job.max_salary
                                        )}
                                    >
                                        <svg
                                            width="16"
                                            height="16"
                                            viewBox="0 0 16 16"
                                            fill="none"
                                            xmlns="http://www.w3.org/2000/svg"
                                        >
                                            <path
                                                d="M8 0.5C6.51664 0.5 5.0666 0.939867 3.83323 1.76398C2.59986 2.58809 1.63856 3.75943 1.07091 5.12987C0.50325 6.50032 0.354725 8.00832 0.644114 9.46318C0.933503 10.918 1.64781 12.2544 2.6967 13.3033C3.7456 14.3522 5.08197 15.0665 6.53683 15.3559C7.99168 15.6453 9.49968 15.4968 10.8701 14.9291C12.2406 14.3614 13.4119 13.4001 14.236 12.1668C15.0601 10.9334 15.5 9.48336 15.5 8C15.5 6.01088 14.7098 4.10322 13.3033 2.6967C11.8968 1.29018 9.98913 0.5 8 0.5ZM8 14.5C6.71442 14.5 5.45772 14.1188 4.3888 13.4046C3.31988 12.6903 2.48676 11.6752 1.99479 10.4874C1.50282 9.29972 1.3741 7.99279 1.6249 6.73191C1.8757 5.47104 2.49477 4.31285 3.40381 3.40381C4.31285 2.49476 5.47104 1.8757 6.73192 1.6249C7.99279 1.37409 9.29973 1.50281 10.4874 1.99478C11.6752 2.48675 12.6903 3.31987 13.4046 4.38879C14.1188 5.45771 14.5 6.71442 14.5 8C14.5 9.72391 13.8152 11.3772 12.5962 12.5962C11.3772 13.8152 9.72391 14.5 8 14.5Z"
                                                fill="#66789C"
                                            />
                                            <path
                                                d="M8 2.5C6.91221 2.5 5.84884 2.82257 4.94437 3.42692C4.0399 4.03126 3.33495 4.89025 2.91867 5.89524C2.50238 6.90023 2.39346 8.0061 2.60568 9.073C2.8179 10.1399 3.34173 11.1199 4.11092 11.8891C4.8801 12.6583 5.86011 13.1821 6.92701 13.3943C7.9939 13.6065 9.09977 13.4976 10.1048 13.0813C11.1098 12.6651 11.9687 11.9601 12.5731 11.0556C13.1774 10.1512 13.5 9.0878 13.5 8C13.5 6.54131 12.9205 5.14236 11.8891 4.11091C10.8576 3.07946 9.45869 2.5 8 2.5ZM8 12.5C7.10999 12.5 6.23996 12.2361 5.49994 11.7416C4.75991 11.2471 4.18314 10.5443 3.84254 9.72208C3.50195 8.89981 3.41284 7.99501 3.58647 7.12209C3.7601 6.24918 4.18869 5.44736 4.81802 4.81802C5.44736 4.18868 6.24918 3.7601 7.1221 3.58647C7.99501 3.41283 8.89981 3.50195 9.72208 3.84254C10.5443 4.18314 11.2471 4.75991 11.7416 5.49993C12.2361 6.23995 12.5 7.10998 12.5 8C12.5 9.19347 12.0259 10.3381 11.182 11.182C10.3381 12.0259 9.19348 12.5 8 12.5Z"
                                                fill="#66789C"
                                            />
                                            <path
                                                d="M9.25 6C9.38261 6 9.50979 5.94732 9.60355 5.85355C9.69732 5.75979 9.75 5.63261 9.75 5.5C9.75 5.36739 9.69732 5.24021 9.60355 5.14645C9.50979 5.05268 9.38261 5 9.25 5H8.5V4.5C8.5 4.36739 8.44732 4.24021 8.35355 4.14645C8.25979 4.05268 8.13261 4 8 4C7.86739 4 7.74021 4.05268 7.64645 4.14645C7.55268 4.24021 7.5 4.36739 7.5 4.5V5H7.25C6.98478 5 6.73043 5.10536 6.54289 5.29289C6.35536 5.48043 6.25 5.73478 6.25 6V7.5C6.25 7.76522 6.35536 8.01957 6.54289 8.20711C6.73043 8.39464 6.98478 8.5 7.25 8.5H8.75V10H6.75C6.61739 10 6.49021 10.0527 6.39645 10.1464C6.30268 10.2402 6.25 10.3674 6.25 10.5C6.25 10.6326 6.30268 10.7598 6.39645 10.8536C6.49021 10.9473 6.61739 11 6.75 11H7.5V11.5C7.5 11.6326 7.55268 11.7598 7.64645 11.8536C7.74021 11.9473 7.86739 12 8 12C8.13261 12 8.25979 11.9473 8.35355 11.8536C8.44732 11.7598 8.5 11.6326 8.5 11.5V11H8.75C9.01522 11 9.26957 10.8946 9.45711 10.7071C9.64464 10.5196 9.75 10.2652 9.75 10V8.5C9.75 8.23478 9.64464 7.98043 9.45711 7.79289C9.26957 7.60536 9.01522 7.5 8.75 7.5H7.25V6H9.25Z"
                                                fill="#66789C"
                                            />
                                        </svg>
                                    </JobDetailsGridRow>
                                    <JobDetailsGridRow
                                        title="Job Type"
                                        content={formatJobTypes()}
                                    >
                                        <svg
                                            width="16"
                                            height="16"
                                            viewBox="0 0 16 16"
                                            fill="none"
                                            xmlns="http://www.w3.org/2000/svg"
                                        >
                                            <path
                                                d="M15 12.5H11C11.5186 12.1051 11.9534 11.6107 12.2787 11.0458C12.6041 10.4809 12.8136 9.85682 12.895 9.21001H13.02C13.6435 9.20005 14.2407 8.95744 14.6945 8.52981C15.1483 8.10218 15.426 7.5204 15.4729 6.89862C15.5199 6.27684 15.3328 5.65995 14.9484 5.16901C14.5639 4.67807 14.0099 4.34852 13.395 4.24501L13.465 3.59001C13.4786 3.45098 13.463 3.31062 13.4191 3.178C13.3752 3.04538 13.3039 2.92343 13.21 2.82001C13.1134 2.71571 12.9956 2.63321 12.8645 2.57803C12.7335 2.52285 12.5921 2.49625 12.45 2.50001H3.55C3.41046 2.50034 3.27253 2.52988 3.14508 2.58671C3.01763 2.64354 2.90349 2.72642 2.81 2.83001C2.71607 2.93343 2.64484 3.05538 2.60092 3.188C2.557 3.32062 2.54136 3.46098 2.555 3.60001L3.105 9.07001C3.16698 9.74158 3.36735 10.393 3.69349 10.9834C4.01963 11.5737 4.46447 12.0901 5 12.5H1C0.867392 12.5 0.740215 12.5527 0.646447 12.6465C0.552678 12.7402 0.5 12.8674 0.5 13C0.5 13.1326 0.552678 13.2598 0.646447 13.3536C0.740215 13.4473 0.867392 13.5 1 13.5H15C15.1326 13.5 15.2598 13.4473 15.3536 13.3536C15.4473 13.2598 15.5 13.1326 15.5 13C15.5 12.8674 15.4473 12.7402 15.3536 12.6465C15.2598 12.5527 15.1326 12.5 15 12.5ZM14.5 6.72001C14.5 7.11784 14.342 7.49937 14.0607 7.78067C13.7794 8.06198 13.3978 8.22002 13 8.22002L13.3 5.25001C13.6388 5.31917 13.9433 5.50327 14.162 5.77114C14.3807 6.03902 14.5001 6.37422 14.5 6.72001ZM8 5.54001L8.75 5.84001V7.50001H7.25V5.84001L8 5.54001ZM4.1 8.97002L3.55 3.50001H7.5V4.66001L6.565 5.03501C6.47197 5.07207 6.3922 5.1362 6.33604 5.21911C6.27988 5.30201 6.2499 5.39988 6.25 5.50001V8.00001C6.25 8.13262 6.30268 8.2598 6.39645 8.35357C6.49021 8.44734 6.61739 8.50001 6.75 8.50001H9.25C9.38261 8.50001 9.50979 8.44734 9.60355 8.35357C9.69732 8.2598 9.75 8.13262 9.75 8.00001V5.50001C9.7501 5.39988 9.72012 5.30201 9.66396 5.21911C9.6078 5.1362 9.52803 5.07207 9.435 5.03501L8.5 4.66001V3.50001H12.45L11.9 8.97002C11.802 9.93624 11.3489 10.8317 10.6283 11.4829C9.90778 12.134 8.97118 12.4945 8 12.4945C7.02882 12.4945 6.09222 12.134 5.37168 11.4829C4.65114 10.8317 4.19798 9.93624 4.1 8.97002Z"
                                                fill="#66789C"
                                            />
                                        </svg>
                                    </JobDetailsGridRow>
                                    <JobDetailsGridRow
                                        title="Updated At"
                                        content={formatDate(job.updated_at!)}
                                    >
                                        <svg
                                            width="16"
                                            height="16"
                                            viewBox="0 0 16 16"
                                            fill="none"
                                            xmlns="http://www.w3.org/2000/svg"
                                        >
                                            <path
                                                d="M8 0.5C6.51664 0.5 5.0666 0.939867 3.83323 1.76398C2.59986 2.58809 1.63856 3.75943 1.07091 5.12987C0.50325 6.50032 0.354725 8.00832 0.644114 9.46318C0.933503 10.918 1.64781 12.2544 2.6967 13.3033C3.7456 14.3522 5.08197 15.0665 6.53683 15.3559C7.99168 15.6453 9.49968 15.4968 10.8701 14.9291C12.2406 14.3614 13.4119 13.4001 14.236 12.1668C15.0601 10.9334 15.5 9.48336 15.5 8C15.5 6.01088 14.7098 4.10322 13.3033 2.6967C11.8968 1.29018 9.98913 0.5 8 0.5ZM8 14.5C6.71442 14.5 5.45772 14.1188 4.3888 13.4046C3.31988 12.6903 2.48676 11.6752 1.99479 10.4874C1.50282 9.29972 1.3741 7.99279 1.6249 6.73191C1.8757 5.47104 2.49477 4.31285 3.40381 3.40381C4.31285 2.49476 5.47104 1.8757 6.73192 1.6249C7.99279 1.37409 9.29973 1.50281 10.4874 1.99478C11.6752 2.48675 12.6903 3.31987 13.4046 4.38879C14.1188 5.45771 14.5 6.71442 14.5 8C14.5 9.72391 13.8152 11.3772 12.5962 12.5962C11.3772 13.8152 9.72391 14.5 8 14.5Z"
                                                fill="#66789C"
                                            />
                                            <path
                                                d="M8 2.5C6.91221 2.5 5.84884 2.82257 4.94437 3.42692C4.0399 4.03126 3.33495 4.89025 2.91867 5.89524C2.50238 6.90023 2.39346 8.0061 2.60568 9.073C2.8179 10.1399 3.34173 11.1199 4.11092 11.8891C4.8801 12.6583 5.86011 13.1821 6.92701 13.3943C7.9939 13.6065 9.09977 13.4976 10.1048 13.0813C11.1098 12.6651 11.9687 11.9601 12.5731 11.0556C13.1774 10.1512 13.5 9.0878 13.5 8C13.5 6.54131 12.9205 5.14236 11.8891 4.11091C10.8576 3.07946 9.45869 2.5 8 2.5ZM8 12.5C7.10999 12.5 6.23996 12.2361 5.49994 11.7416C4.75991 11.2471 4.18314 10.5443 3.84254 9.72208C3.50195 8.89981 3.41284 7.99501 3.58647 7.12209C3.7601 6.24918 4.18869 5.44736 4.81802 4.81802C5.44736 4.18868 6.24918 3.7601 7.1221 3.58647C7.99501 3.41283 8.89981 3.50195 9.72208 3.84254C10.5443 4.18314 11.2471 4.75991 11.7416 5.49993C12.2361 6.23995 12.5 7.10998 12.5 8C12.5 9.19347 12.0259 10.3381 11.182 11.182C10.3381 12.0259 9.19348 12.5 8 12.5Z"
                                                fill="#66789C"
                                            />
                                            <path
                                                d="M9.71501 9C9.86803 8.73435 9.95793 8.43708 9.97777 8.13115C9.9976 7.82522 9.94685 7.51883 9.82941 7.23564C9.71198 6.95246 9.53102 6.70006 9.30051 6.49794C9.07 6.29583 8.79612 6.14941 8.50001 6.07V4.5C8.50001 4.36739 8.44733 4.24021 8.35356 4.14645C8.2598 4.05268 8.13262 4 8.00001 4C7.8674 4 7.74023 4.05268 7.64646 4.14645C7.55269 4.24021 7.50001 4.36739 7.50001 4.5V6.07C7.21552 6.1334 6.94832 6.25822 6.71713 6.43572C6.48593 6.61321 6.29633 6.8391 6.16159 7.09756C6.02685 7.35602 5.95023 7.6408 5.93709 7.93198C5.92396 8.22316 5.97462 8.51369 6.08554 8.78323C6.19647 9.05277 6.36496 9.29481 6.57924 9.4924C6.79351 9.68999 7.04839 9.83836 7.32601 9.92712C7.60364 10.0159 7.89732 10.0429 8.18648 10.0062C8.47564 9.9696 8.7533 9.8702 9.00001 9.715L10.11 10.83C10.1565 10.8769 10.2118 10.9141 10.2727 10.9394C10.3337 10.9648 10.399 10.9779 10.465 10.9779C10.531 10.9779 10.5964 10.9648 10.6573 10.9394C10.7182 10.9141 10.7735 10.8769 10.82 10.83C10.8669 10.7835 10.9041 10.7282 10.9295 10.6673C10.9548 10.6064 10.9679 10.541 10.9679 10.475C10.9679 10.409 10.9548 10.3436 10.9295 10.2827C10.9041 10.2218 10.8669 10.1665 10.82 10.12L9.71501 9ZM7.00001 8C7.00001 7.73478 7.10537 7.48043 7.2929 7.29289C7.48044 7.10536 7.73479 7 8.00001 7C8.26523 7 8.51958 7.10536 8.70712 7.29289C8.89465 7.48043 9.00001 7.73478 9.00001 8C8.99889 8.26479 8.89281 8.51832 8.70501 8.705C8.51834 8.89279 8.2648 8.99888 8.00001 9C7.73479 9 7.48044 8.89464 7.2929 8.70711C7.10537 8.51957 7.00001 8.26522 7.00001 8Z"
                                                fill="#66789C"
                                            />
                                        </svg>
                                    </JobDetailsGridRow>
                                </div>
                                <div className="right-col w-full text-[1.05rem]">
                                    <JobDetailsGridRow
                                        title="Gender"
                                        content={
                                            job.gender === null
                                                ? "No Preference"
                                                : job.gender
                                                ? "Female"
                                                : "Male"
                                        }
                                    >
                                        <svg
                                            width="16"
                                            height="16"
                                            viewBox="0 0 16 16"
                                            fill="none"
                                            xmlns="http://www.w3.org/2000/svg"
                                        >
                                            <path
                                                d="M15 5.5H13.5V3C13.5024 2.88303 13.4636 2.76893 13.3905 2.67757C13.3174 2.58621 13.2146 2.52338 13.1 2.5L3.1 0.500003C3.02737 0.485691 2.95246 0.487686 2.88069 0.505844C2.80893 0.524002 2.74209 0.55787 2.685 0.605003C2.62633 0.65259 2.5792 0.712853 2.54716 0.781266C2.51512 0.84968 2.49899 0.924465 2.5 1V5.5H1C0.867392 5.5 0.740215 5.55268 0.646447 5.64645C0.552678 5.74022 0.5 5.86739 0.5 6V15C0.5 15.1326 0.552678 15.2598 0.646447 15.3536C0.740215 15.4473 0.867392 15.5 1 15.5H15C15.1326 15.5 15.2598 15.4473 15.3536 15.3536C15.4473 15.2598 15.5 15.1326 15.5 15V6C15.5 5.86739 15.4473 5.74022 15.3536 5.64645C15.2598 5.55268 15.1326 5.5 15 5.5ZM1.5 6.5H2.5V14.5H1.5V6.5ZM3.5 6V1.61L12.5 3.41V14.5H10V11.5C10 11.3674 9.94732 11.2402 9.85355 11.1464C9.75979 11.0527 9.63261 11 9.5 11H6.5C6.36739 11 6.24021 11.0527 6.14645 11.1464C6.05268 11.2402 6 11.3674 6 11.5V14.5H3.5V6ZM7 14.5V12H9V14.5H7ZM14.5 14.5H13.5V6.5H14.5V14.5Z"
                                                fill="#66789C"
                                            />
                                            <path
                                                d="M5.25 6.5H7.25C7.38261 6.5 7.50979 6.44732 7.60355 6.35355C7.69732 6.25979 7.75 6.13261 7.75 6V4C7.75 3.86739 7.69732 3.74021 7.60355 3.64645C7.50979 3.55268 7.38261 3.5 7.25 3.5H5.25C5.11739 3.5 4.99021 3.55268 4.89645 3.64645C4.80268 3.74021 4.75 3.86739 4.75 4V6C4.75 6.13261 4.80268 6.25979 4.89645 6.35355C4.99021 6.44732 5.11739 6.5 5.25 6.5ZM5.75 4.5H6.75V5.5H5.75V4.5Z"
                                                fill="#66789C"
                                            />
                                            <path
                                                d="M7.25 10C7.38261 10 7.50979 9.94732 7.60355 9.85355C7.69732 9.75979 7.75 9.63261 7.75 9.5V7.5C7.75 7.36739 7.69732 7.24021 7.60355 7.14645C7.50979 7.05268 7.38261 7 7.25 7H5.25C5.11739 7 4.99021 7.05268 4.89645 7.14645C4.80268 7.24021 4.75 7.36739 4.75 7.5V9.5C4.75 9.63261 4.80268 9.75979 4.89645 9.85355C4.99021 9.94732 5.11739 10 5.25 10H7.25ZM5.75 8H6.75V9H5.75V8Z"
                                                fill="#66789C"
                                            />
                                            <path
                                                d="M8.75 6.5H10.75C10.8826 6.5 11.0098 6.44732 11.1036 6.35355C11.1973 6.25979 11.25 6.13261 11.25 6V4C11.25 3.86739 11.1973 3.74021 11.1036 3.64645C11.0098 3.55268 10.8826 3.5 10.75 3.5H8.75C8.61739 3.5 8.49021 3.55268 8.39645 3.64645C8.30268 3.74021 8.25 3.86739 8.25 4V6C8.25 6.13261 8.30268 6.25979 8.39645 6.35355C8.49021 6.44732 8.61739 6.5 8.75 6.5ZM9.25 4.5H10.25V5.5H9.25V4.5Z"
                                                fill="#66789C"
                                            />
                                            <path
                                                d="M8.75 10H10.75C10.8826 10 11.0098 9.94732 11.1036 9.85355C11.1973 9.75979 11.25 9.63261 11.25 9.5V7.5C11.25 7.36739 11.1973 7.24021 11.1036 7.14645C11.0098 7.05268 10.8826 7 10.75 7H8.75C8.61739 7 8.49021 7.05268 8.39645 7.14645C8.30268 7.24021 8.25 7.36739 8.25 7.5V9.5C8.25 9.63261 8.30268 9.75979 8.39645 9.85355C8.49021 9.94732 8.61739 10 8.75 10ZM9.25 8H10.25V9H9.25V8Z"
                                                fill="#66789C"
                                            />
                                        </svg>
                                    </JobDetailsGridRow>
                                    <JobDetailsGridRow
                                        title="Experience"
                                        content={formatExperience()}
                                    >
                                        <svg
                                            width="16"
                                            height="16"
                                            viewBox="0 0 16 16"
                                            fill="none"
                                            xmlns="http://www.w3.org/2000/svg"
                                        >
                                            <path
                                                d="M13.5 5.99999C13.5016 5.10183 13.2832 4.21693 12.864 3.42263C12.4447 2.62833 11.8373 1.9488 11.0948 1.44341C10.3523 0.938019 9.49735 0.622155 8.60463 0.523418C7.7119 0.424681 6.80858 0.546074 5.9736 0.876991C5.13862 1.20791 4.39738 1.73828 3.81466 2.42176C3.23195 3.10523 2.82548 3.92102 2.63078 4.79783C2.43608 5.67464 2.45908 6.58579 2.69776 7.45166C2.93644 8.31753 3.38354 9.11178 3.99999 9.76499V15C4.00006 15.0825 4.02055 15.1637 4.05964 15.2364C4.09873 15.3091 4.15521 15.371 4.22403 15.4165C4.29285 15.4621 4.37187 15.4899 4.45405 15.4975C4.53622 15.5051 4.619 15.4922 4.69499 15.46L7.99999 14.045L11.305 15.46C11.3667 15.4863 11.433 15.4999 11.5 15.5C11.598 15.4992 11.6936 15.4697 11.775 15.415C11.8438 15.3697 11.9003 15.3081 11.9396 15.2357C11.9788 15.1633 11.9996 15.0823 12 15V9.76499C12.961 8.74668 13.4975 7.40017 13.5 5.99999ZM7.99999 1.49999C8.89001 1.49999 9.76004 1.76391 10.5001 2.25838C11.2401 2.75284 11.8169 3.45565 12.1574 4.27792C12.498 5.10018 12.5872 6.00498 12.4135 6.8779C12.2399 7.75081 11.8113 8.55263 11.182 9.18197C10.5526 9.81131 9.75081 10.2399 8.8779 10.4135C8.00498 10.5872 7.10018 10.498 6.27792 10.1574C5.45565 9.81685 4.75284 9.24008 4.25838 8.50006C3.76391 7.76004 3.49999 6.89001 3.49999 5.99999C3.49999 4.80652 3.9741 3.66192 4.81801 2.81801C5.66192 1.9741 6.80652 1.49999 7.99999 1.49999ZM8.19499 13.04C8.1333 13.0139 8.06699 13.0004 7.99999 13.0004C7.933 13.0004 7.86668 13.0139 7.80499 13.04L4.99999 14.24V10.605C5.8927 11.186 6.93489 11.4952 7.99999 11.4952C9.06509 11.4952 10.1073 11.186 11 10.605V14.24L8.19499 13.04Z"
                                                fill="#66789C"
                                            />
                                            <path
                                                d="M5.00011 6.41499L5.66011 6.91499C5.69206 6.94179 5.71531 6.97751 5.72689 7.01758C5.73846 7.05766 5.73785 7.10027 5.72511 7.13999L5.47511 7.94499C5.39585 8.18778 5.39681 8.44964 5.47785 8.69185C5.55888 8.93406 5.7157 9.14377 5.92511 9.28999C6.11679 9.42974 6.34789 9.50502 6.58511 9.50499C6.83439 9.50283 7.07634 9.42043 7.27511 9.26999L7.93511 8.76999C7.96108 8.75051 7.99265 8.73999 8.02511 8.73999C8.05757 8.73999 8.08915 8.75051 8.11511 8.76999L8.77511 9.26999C8.96984 9.41604 9.20669 9.49499 9.45011 9.49499C9.69353 9.49499 9.93038 9.41604 10.1251 9.26999C10.3345 9.12377 10.4913 8.91406 10.5724 8.67185C10.6534 8.42964 10.6544 8.16778 10.5751 7.92499L10.3251 7.11999C10.3124 7.08027 10.3118 7.03766 10.3233 6.99758C10.3349 6.95751 10.3582 6.92179 10.3901 6.89499L11.0501 6.39499C11.2541 6.24363 11.4041 6.03072 11.4779 5.78765C11.5517 5.54459 11.5455 5.28423 11.4601 5.04499C11.3859 4.81147 11.2393 4.60763 11.0415 4.46292C10.8438 4.31821 10.6051 4.24013 10.3601 4.23999H9.50011C9.46376 4.23837 9.42881 4.22547 9.40013 4.20306C9.37145 4.18066 9.35047 4.14987 9.34011 4.11499L9.09011 3.30999C9.02083 3.06911 8.87507 2.8573 8.67484 2.70654C8.4746 2.55578 8.23076 2.47424 7.98011 2.47424C7.72947 2.47424 7.48562 2.55578 7.28539 2.70654C7.08515 2.8573 6.93939 3.06911 6.87011 3.30999L6.62011 4.11499C6.60975 4.14987 6.58877 4.18066 6.56009 4.20306C6.53141 4.22547 6.49647 4.23837 6.46011 4.23999H5.66511C5.42008 4.24013 5.18144 4.31821 4.9837 4.46292C4.78596 4.60763 4.63936 4.81147 4.56511 5.04499C4.47748 5.28946 4.47258 5.55595 4.55117 5.80347C4.62977 6.051 4.7875 6.26585 5.00011 6.41499ZM5.50011 5.38499C5.50699 5.35011 5.52564 5.31866 5.55295 5.2959C5.58026 5.27314 5.61457 5.26046 5.65011 5.25999H6.50011C6.74918 5.25986 6.9916 5.17957 7.1915 5.031C7.39141 4.88242 7.53818 4.67345 7.61011 4.43499L7.86511 3.62499C7.87392 3.59057 7.89394 3.56006 7.922 3.53828C7.95007 3.5165 7.98458 3.50467 8.02011 3.50467C8.05564 3.50467 8.09015 3.5165 8.11822 3.53828C8.14628 3.56006 8.1663 3.59057 8.17511 3.62499L8.43011 4.43499C8.49994 4.66703 8.64069 4.87138 8.8326 5.01935C9.02451 5.16731 9.25793 5.25147 9.50011 5.25999H10.3151C10.3507 5.26046 10.385 5.27314 10.4123 5.2959C10.4396 5.31866 10.4582 5.35011 10.4651 5.38499C10.4819 5.42458 10.4851 5.46859 10.4742 5.51018C10.4634 5.55178 10.4391 5.58862 10.4051 5.61499L9.74511 6.11499C9.54783 6.26509 9.40164 6.47238 9.32648 6.7086C9.25132 6.94483 9.25084 7.19848 9.32511 7.43499L9.58011 8.23999C9.59533 8.28117 9.5962 8.32628 9.58259 8.36802C9.56898 8.40976 9.54168 8.44569 9.50511 8.46999C9.48069 8.49077 9.44967 8.50218 9.41761 8.50218C9.38555 8.50218 9.35453 8.49077 9.33011 8.46999L8.67011 7.96999C8.47275 7.81673 8.22999 7.73354 7.98011 7.73354C7.73023 7.73354 7.48747 7.81673 7.29011 7.96999L6.63011 8.46999C6.60569 8.49077 6.57468 8.50218 6.54261 8.50218C6.51055 8.50218 6.47953 8.49077 6.45511 8.46999C6.41854 8.44569 6.39124 8.40976 6.37763 8.36802C6.36402 8.32628 6.36489 8.28117 6.38011 8.23999L6.63511 7.43499C6.70938 7.19848 6.7089 6.94483 6.63374 6.7086C6.55858 6.47238 6.41239 6.26509 6.21511 6.11499L5.55511 5.61499C5.52201 5.58797 5.4987 5.55083 5.48877 5.50927C5.47883 5.46772 5.48282 5.42405 5.50011 5.38499Z"
                                                fill="#66789C"
                                            />
                                        </svg>
                                    </JobDetailsGridRow>
                                    <JobDetailsGridRow
                                        title="Deadline"
                                        content={
                                            job.expiration_date
                                                ? formatDate(
                                                      job.expiration_date
                                                  )
                                                : "Undetermined"
                                        }
                                    >
                                        <svg
                                            width="16"
                                            height="16"
                                            viewBox="0 0 16 16"
                                            fill="none"
                                            xmlns="http://www.w3.org/2000/svg"
                                        >
                                            <path
                                                d="M13.5002 8C13.4998 7.18956 13.3203 6.38922 12.9745 5.65624C12.6288 4.92325 12.1253 4.27573 11.5002 3.76V1.5C11.5002 1.23478 11.3948 0.98043 11.2073 0.792893C11.0197 0.605357 10.7654 0.5 10.5002 0.5H5.50015C5.23493 0.5 4.98058 0.605357 4.79304 0.792893C4.60551 0.98043 4.50015 1.23478 4.50015 1.5V3.76C3.87205 4.27594 3.36611 4.92468 3.01875 5.65956C2.67138 6.39443 2.49121 7.19716 2.49121 8.01C2.49121 8.82284 2.67138 9.62557 3.01875 10.3604C3.36611 11.0953 3.87205 11.7441 4.50015 12.26V14.5C4.50015 14.7652 4.60551 15.0196 4.79304 15.2071C4.98058 15.3946 5.23493 15.5 5.50015 15.5H10.5002C10.7654 15.5 11.0197 15.3946 11.2073 15.2071C11.3948 15.0196 11.5002 14.7652 11.5002 14.5V12.24C12.1253 11.7243 12.6288 11.0767 12.9745 10.3438C13.3203 9.61077 13.4998 8.81044 13.5002 8ZM5.50015 1.5H10.5002V3.105C9.72673 2.70758 8.8697 2.50027 8.00015 2.50027C7.1306 2.50027 6.27357 2.70758 5.50015 3.105V1.5ZM3.50015 8C3.50015 7.10998 3.76407 6.23995 4.25854 5.49993C4.753 4.75991 5.45581 4.18314 6.27808 3.84254C7.10034 3.50195 8.00514 3.41283 8.87806 3.58647C9.75097 3.7601 10.5528 4.18868 11.1821 4.81802C11.8115 5.44736 12.2401 6.24918 12.4137 7.12209C12.5873 7.99501 12.4982 8.89981 12.1576 9.72208C11.817 10.5443 11.2402 11.2471 10.5002 11.7416C9.7602 12.2361 8.89017 12.5 8.00015 12.5C6.80668 12.5 5.66208 12.0259 4.81817 11.182C3.97426 10.3381 3.50015 9.19347 3.50015 8ZM10.5002 14.5H5.50015V12.895C6.27357 13.2924 7.1306 13.4997 8.00015 13.4997C8.8697 13.4997 9.72673 13.2924 10.5002 12.895V14.5Z"
                                                fill="#66789C"
                                            />
                                            <path
                                                d="M9.06001 9.765C9.15369 9.85813 9.28042 9.9104 9.41251 9.9104C9.5446 9.9104 9.67133 9.85813 9.76501 9.765C9.85813 9.67132 9.9104 9.54459 9.9104 9.4125C9.9104 9.28041 9.85813 9.15368 9.76501 9.06L8.50001 7.795V6C8.50001 5.86739 8.44733 5.74021 8.35356 5.64645C8.25979 5.55268 8.13262 5.5 8.00001 5.5C7.8674 5.5 7.74022 5.55268 7.64646 5.64645C7.55269 5.74021 7.50001 5.86739 7.50001 6V8C7.49963 8.0658 7.51224 8.13103 7.53712 8.19195C7.56201 8.25287 7.59867 8.30828 7.64501 8.355L9.06001 9.765Z"
                                                fill="#66789C"
                                            />
                                        </svg>
                                    </JobDetailsGridRow>
                                    <JobDetailsGridRow
                                        title="Location"
                                        content={job.location ?? "Undetermined"}
                                    >
                                        <svg
                                            width="16"
                                            height="16"
                                            viewBox="0 0 16 16"
                                            fill="none"
                                            xmlns="http://www.w3.org/2000/svg"
                                        >
                                            <path
                                                d="M8 13.5C7.93023 13.4998 7.86126 13.4851 7.79754 13.4567C7.73382 13.4282 7.67675 13.3868 7.63 13.335C7.155 12.805 3 8.1 3 5.5C3 4.17392 3.52678 2.90215 4.46447 1.96447C5.40215 1.02678 6.67392 0.5 8 0.5C9.32608 0.5 10.5979 1.02678 11.5355 1.96447C12.4732 2.90215 13 4.17392 13 5.5C13 8.1 8.845 12.805 8.37 13.335C8.32325 13.3868 8.26618 13.4282 8.20246 13.4567C8.13874 13.4851 8.06977 13.4998 8 13.5ZM8 1.5C6.93913 1.5 5.92172 1.92143 5.17157 2.67157C4.42143 3.42172 4 4.43913 4 5.5C4 7.21 6.615 10.62 8 12.24C9.385 10.62 12 7.21 12 5.5C12 4.43913 11.5786 3.42172 10.8284 2.67157C10.0783 1.92143 9.06087 1.5 8 1.5Z"
                                                fill="#66789C"
                                            />
                                            <path
                                                d="M15.0001 15.5H1.0001C0.918195 15.5001 0.837517 15.4801 0.765154 15.4418C0.692792 15.4034 0.630961 15.3479 0.585096 15.28C0.539489 15.2124 0.511092 15.1348 0.502378 15.0537C0.493663 14.9727 0.504895 14.8907 0.535096 14.815L2.5351 9.81501C2.57215 9.72197 2.63628 9.64221 2.71919 9.58605C2.8021 9.52988 2.89996 9.49991 3.0001 9.50001H5.6201C5.70027 9.49958 5.77936 9.51843 5.85072 9.55498C5.92208 9.59153 5.9836 9.6447 6.0301 9.71001C6.7801 10.77 7.5301 11.71 8.0001 12.21C8.4451 11.71 9.2201 10.745 9.9701 9.71001C10.0166 9.6447 10.0781 9.59153 10.1495 9.55498C10.2208 9.51843 10.2999 9.49958 10.3801 9.50001H13.0001C13.1002 9.49991 13.1981 9.52988 13.281 9.58605C13.3639 9.64221 13.428 9.72197 13.4651 9.81501L15.4651 14.815C15.4953 14.8907 15.5065 14.9727 15.4978 15.0537C15.4891 15.1348 15.4607 15.2124 15.4151 15.28C15.3692 15.3479 15.3074 15.4034 15.235 15.4418C15.1627 15.4801 15.082 15.5001 15.0001 15.5ZM1.7401 14.5H14.2401L12.6401 10.5H10.6351C9.5151 12.055 8.4201 13.28 8.3701 13.335C8.32323 13.3866 8.26611 13.4278 8.20239 13.456C8.13868 13.4841 8.06977 13.4987 8.0001 13.4987C7.93042 13.4987 7.86152 13.4841 7.7978 13.456C7.73408 13.4278 7.67696 13.3866 7.6301 13.335C7.5801 13.28 6.4851 12.055 5.3651 10.5H3.3401L1.7401 14.5Z"
                                                fill="#66789C"
                                            />
                                            <path
                                                d="M8 8C7.50555 8 7.0222 7.85338 6.61108 7.57867C6.19995 7.30397 5.87952 6.91352 5.6903 6.45671C5.50108 5.99989 5.45157 5.49723 5.54804 5.01228C5.6445 4.52732 5.8826 4.08187 6.23223 3.73223C6.58187 3.3826 7.02732 3.1445 7.51228 3.04804C7.99723 2.95157 8.4999 3.00108 8.95671 3.1903C9.41353 3.37952 9.80397 3.69995 10.0787 4.11108C10.3534 4.5222 10.5 5.00555 10.5 5.5C10.5 6.16304 10.2366 6.79893 9.76777 7.26777C9.29893 7.73661 8.66304 8 8 8ZM8 4C7.70333 4 7.41332 4.08797 7.16665 4.2528C6.91997 4.41762 6.72771 4.65189 6.61418 4.92598C6.50065 5.20007 6.47095 5.50167 6.52882 5.79264C6.5867 6.08361 6.72956 6.35088 6.93934 6.56066C7.14912 6.77044 7.41639 6.9133 7.70737 6.97118C7.99834 7.02906 8.29994 6.99935 8.57403 6.88582C8.84812 6.77229 9.08238 6.58003 9.24721 6.33336C9.41203 6.08668 9.5 5.79667 9.5 5.5C9.5 5.10218 9.34197 4.72065 9.06066 4.43934C8.77936 4.15804 8.39783 4 8 4Z"
                                                fill="#66789C"
                                            />
                                        </svg>
                                    </JobDetailsGridRow>
                                </div>
                            </div>
                        </div>
                        <div className="additional-info border border-gray-200 rounded-lg p-6 my-6">
                            <h4 className="text-dark-blue text-2xl font-bold capitalize border-b border-gray-200 pb-3">
                                Job Requirements
                            </h4>
                            <div className="requirements-content mt-6 px-4">
                                <ul
                                    className="list-disc"
                                    dir={requiremenetsHasArabic ? "rtl" : "ltr"}
                                >
                                    {job.requirements
                                        ? job.requirements
                                              .replace(
                                                  /([.?!])\s*(?=[A-Zا-ي])/g,
                                                  "$1|"
                                              )
                                              .split(/[-|]/)
                                              .map(
                                                  (s, i) =>
                                                      s && <li key={i}>{s}</li>
                                              )
                                        : "Not Available"}
                                </ul>
                            </div>
                        </div>

                        <div className="additional-info border border-gray-200 rounded-lg p-6 my-6">
                            <h4 className="text-dark-blue text-2xl font-bold capitalize border-b border-gray-200 pb-3">
                                Job Description
                            </h4>
                            <div className="description-content mt-6 px-4">
                                <ul
                                    className="list-disc"
                                    dir={descriptionHasArabic ? "rtl" : "ltr"}
                                >
                                    {job.description
                                        ? job.description
                                              .replace(
                                                  /([.?!])\s*(?=[A-Z])/g,
                                                  "$1|"
                                              )
                                              .split(/[-|]/)
                                              .map(
                                                  (s, i) =>
                                                      s && <li key={i}>{s}</li>
                                              )
                                        : "Not Available"}
                                </ul>
                            </div>
                        </div>

                        <div className="additional-info border border-gray-200 rounded-lg p-6 my-6">
                            <h4 className="text-dark-blue text-2xl font-bold capitalize border-b border-gray-200 pb-3">
                                Job Benefits
                            </h4>
                            <div className="benefits-content mt-6 px-4">
                                <ul
                                    className="list-disc"
                                    dir={benefitsHasArabic ? "rtl" : "ltr"}
                                >
                                    {job.benefits
                                        ? job.benefits
                                              .replace(
                                                  /([.?!])\s*(?=[A-Z])/g,
                                                  "$1|"
                                              )
                                              .split(/[-|]/)
                                              .map(
                                                  (s, i) =>
                                                      s && <li key={i}>{s}</li>
                                              )
                                        : "Not Available"}
                                </ul>
                            </div>
                        </div>
                    </div>

                    <div className="right-section w-full md:w-1/3">
                        <div className="company-info border border-gray-200 rounded-lg p-6 mb-6">
                            <div className="company-heading flex flex-row gap-4 items-center">
                                <img
                                    src={job.display_image! as string}
                                    alt="logo"
                                    className="w-1/3 rounded-lg"
                                />
                                <div className="company-title-location w-2/3">
                                    <h1 className="text-dark-blue text-xl font-bold capitalize">
                                        {job.company
                                            ? job.company.name
                                            : job.title!.split(" --- ")
                                                  .length == 2
                                            ? job.title!.split(" --- ")[1]
                                            : translations.unknown.toString()}
                                    </h1>
                                    {job.company ? (
                                        <p className="flex flex-row items-center text-[#A0ABB8] gap-1">
                                            <svg
                                                width="13"
                                                height="13"
                                                viewBox="0 0 13 13"
                                                fill="none"
                                                xmlns="http://www.w3.org/2000/svg"
                                            >
                                                <g clipPath="url(#clip0_1933_434)">
                                                    <path
                                                        d="M6.50002 13.0043L6.12085 12.6793C5.59814 12.2416 1.03406 8.29993 1.03406 5.41664C1.03406 3.96698 1.60993 2.57669 2.635 1.55163C3.66007 0.52656 5.05035 -0.0493164 6.50002 -0.0493164C7.94968 -0.0493164 9.33996 0.52656 10.365 1.55163C11.3901 2.57669 11.966 3.96698 11.966 5.41664C11.966 8.29993 7.40189 12.2416 6.88135 12.6815L6.50002 13.0043ZM6.50002 1.1326C5.36421 1.13389 4.2753 1.58566 3.47217 2.38879C2.66903 3.19193 2.21726 4.28084 2.21597 5.41664C2.21597 7.22797 5.02397 10.1216 6.50002 11.4459C7.97606 10.121 10.7841 7.22581 10.7841 5.41664C10.7828 4.28084 10.331 3.19193 9.52786 2.38879C8.72473 1.58566 7.63582 1.13389 6.50002 1.1326Z"
                                                        fill="#A0ABB8"
                                                    />
                                                    <path
                                                        d="M6.49998 7.58333C6.07145 7.58333 5.65255 7.45626 5.29625 7.21819C4.93994 6.98011 4.66223 6.64172 4.49824 6.24582C4.33425 5.84991 4.29134 5.41426 4.37495 4.99397C4.45855 4.57368 4.6649 4.18762 4.96792 3.8846C5.27093 3.58159 5.65699 3.37523 6.07729 3.29163C6.49758 3.20803 6.93322 3.25094 7.32913 3.41493C7.72504 3.57892 8.06342 3.85663 8.3015 4.21293C8.53957 4.56924 8.66665 4.98814 8.66665 5.41667C8.66665 5.9913 8.43837 6.5424 8.03205 6.94873C7.62572 7.35506 7.07462 7.58333 6.49998 7.58333ZM6.49998 4.33333C6.28572 4.33333 6.07627 4.39687 5.89811 4.51591C5.71996 4.63495 5.58111 4.80414 5.49911 5.00209C5.41712 5.20005 5.39566 5.41787 5.43746 5.62802C5.47926 5.83816 5.58244 6.03119 5.73395 6.1827C5.88546 6.33421 6.07849 6.43738 6.28863 6.47919C6.49878 6.52099 6.7166 6.49953 6.91455 6.41754C7.11251 6.33554 7.2817 6.19669 7.40074 6.01854C7.51978 5.84038 7.58331 5.63093 7.58331 5.41667C7.58331 5.12935 7.46918 4.8538 7.26601 4.65064C7.06285 4.44747 6.7873 4.33333 6.49998 4.33333Z"
                                                        fill="#A0ABB8"
                                                    />
                                                </g>
                                                <defs>
                                                    <clipPath id="clip0_1933_434">
                                                        <rect
                                                            width="13"
                                                            height="13"
                                                            fill="white"
                                                        />
                                                    </clipPath>
                                                </defs>
                                            </svg>
                                            {job.company!.headquarters!}
                                        </p>
                                    ) : (
                                        <></>
                                    )}
                                </div>
                            </div>
                            {job.company ? (
                                <div className="company-details border-t border-gray-200 mt-5 pt-5">
                                    <div className="company-details-row flex flex-col mb-3">
                                        <span className="w-52 inline-block text-[#66789C]">
                                            Headquarters
                                        </span>
                                        <span>
                                            {
                                                countries[
                                                    job.company
                                                        .headquarters as keyof typeof countries
                                                ].name
                                            }
                                        </span>
                                    </div>
                                    <div className="company-details-row flex flex-col mb-3">
                                        <span className="w-52 inline-block text-[#66789C]">
                                            Email
                                        </span>
                                        <span>
                                            <a
                                                href={
                                                    "mailto:" +
                                                    job.company.email
                                                }
                                            >
                                                {job.company.email}
                                            </a>
                                        </span>
                                    </div>
                                    <div className="company-details-row flex flex-col mb-3">
                                        <span className="w-52 inline-block text-[#66789C]">
                                            Website
                                        </span>
                                        <span>
                                            <a href={job.company.website!}>
                                                {job.company.website}
                                            </a>
                                        </span>
                                    </div>
                                    <div className="company-details-row flex flex-col">
                                        <span className="w-52 inline-block text-[#66789C]">
                                            Phone
                                        </span>
                                        <span>
                                            <a
                                                href={
                                                    "tel:+" + job.company.phone!
                                                }
                                            >
                                                {job.company.phone}
                                            </a>
                                        </span>
                                    </div>
                                </div>
                            ) : (
                                <></>
                            )}
                        </div>
                        {similars && (
                            <div className="similars border border-gray-200 rounded-lg p-6 pb-0 mb-6">
                                <h4 className="text-dark-blue text-xl font-bold capitalize border-b border-gray-200 pb-3">
                                    Similar Jobs
                                </h4>
                                {similars.map((j, i) => (
                                    <div
                                        key={i}
                                        className={
                                            "flex flex-row items-center relative hover:-translate-y-0.5 transition-all" +
                                            (i < similars.length - 1
                                                ? " border-b border-gray-200 py-5"
                                                : " mb-3")
                                        }
                                    >
                                        <img
                                            src={j.display_image! as string}
                                            alt="logo"
                                            className="w-1/5 me-6"
                                        />
                                        <Link
                                            href={route("jobs.details", j.id!)}
                                        >
                                            <h4 className="text-dark-blue text-base font-bold capitalize">
                                                {j.title!.split(" --- ")[0]}
                                            </h4>
                                        </Link>
                                    </div>
                                ))}
                            </div>
                        )}
                    </div>
                </div>
            </FluidContainer>
        </DefaultLayout>
    );
}
